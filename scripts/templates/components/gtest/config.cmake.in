# 启用测试（必须在 add_subdirectory 之前调用）
if(@PROJECT_NAME@_BUILD_TESTS AND EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/tests/CMakeLists.txt)
  enable_testing()
  # 使用 gtest 库（支持三种获取方式）
  # 方式1: 如果 third_party/googletest 目录存在且有 CMakeLists.txt，则使用 add_subdirectory
  # 方式2: 尝试通过 find_package 查找已安装的 gtest
  # 方式3: 使用 FetchContent 下载 gtest 到 CMAKE_BINARY_DIR
  include(find_gtest)
  find_or_fetch_gtest()
  # 或者指定版本和仓库：
  # find_or_fetch_gtest(VERSION 1.14.0 GIT_TAG v1.14.0)
  set(@PROJECT_NAME@_TESTS_DIR ${CMAKE_CURRENT_SOURCE_DIR}/tests)
  add_subdirectory(${@PROJECT_NAME@_TESTS_DIR})
endif()

